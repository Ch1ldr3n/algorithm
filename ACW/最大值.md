# 题意

<https://www.acwing.com/problem/content/1277/>

给定一个正整数数列 a1,a2,…,an，每一个数都在 0∼p−1 之间。

可以对这列数进行两种操作：

1. 添加操作：向序列后添加一个数，序列长度变成 n+1；
2. 询问操作：询问这个序列中最后 L 个数中最大的数是多少。

程序运行的最开始，整数序列为空。

但是因为已知最多有m个数，可以直接把这些位置开好，初值为0.那么添加操作就可以看成是**在某个位置修改一个数**。询问操作看成是**在某个区间查询最大值**。因此可以使用线段树。

## 线段树节点的结构体应该存哪些信息？

线段树查询操作的目的是求某个区间的某个属性。如果这个属性能根据当前节点的两个子节点求出来，那么只存这个属性就好了。如果不能，需要存辅助数据。
